{% extends "contenido/encabezado.html" %}
{% load static %}

{% block titulo %}Editar Curso{% endblock %}

{% block imagen %}{% static 'contenido/images/curso.png' %}{% endblock %}

{% block texto %}Cursos <span>Editar</span>{% endblock %}

{% block contenido %}
{% block nav %}
<div class="breadcrumb-line">
  <ul class="breadcrumb">
    <li><a href="{% url 'Principal' %}">Principal</a></li>
    <li class="breadcrumb-separator">/</li>
    <li><a href="{% url 'Cursos' %}">Cursos</a></li>
    <li class="breadcrumb-separator">/</li>
    <li class="current-page">Editar: {{ curso.nombre }}</li>
  </ul>
</div>
{% endblock %}

<link rel="stylesheet" href="{% static 'contenido/css/formulario.css' %}">

<div class="formulario-info">
  <h2>Editar Curso: {{ curso.nombre }}</h2>

  <form method="post" enctype="multipart/form-data" class="form-curso">
    {% csrf_token %}

    <div class="form-group">
      <label for="{{ form.nombre.id_for_label }}">Nombre:</label>
      {{ form.nombre }}
      {% if form.nombre.errors %}<div class="form-error">{{ form.nombre.errors }}</div>{% endif %}
    </div>

    <div class="form-group">
      <label for="{{ form.descripcion.id_for_label }}">Descripción:</label>
      {{ form.descripcion }}
      {% if form.descripcion.errors %}<div class="form-error">{{ form.descripcion.errors }}</div>{% endif %}
    </div>

    <div class="form-group">
      <label for="{{ form.duracion.id_for_label }}">Duración (días):</label>
      {{ form.duracion }}
      {% if form.duracion.errors %}<div class="form-error">{{ form.duracion.errors }}</div>{% endif %}
    </div>

    <div class="form-group">
      <label for="{{ form.precio.id_for_label }}">Precio:</label>
      {{ form.precio }}
      {% if form.precio.errors %}<div class="form-error">{{ form.precio.errors }}</div>{% endif %}
    </div>

    <div class="form-group">
      <label for="{{ form.activo.id_for_label }}">Activo:</label>
      {{ form.activo }}
      {% if form.activo.errors %}<div class="form-error">{{ form.activo.errors }}</div>{% endif %}
    </div>

    <div class="form-group">
      <label for="{{ form.imagen.id_for_label }}">Imagen:</label>
      {{ form.imagen }}
      {% if form.imagen.errors %}<div class="form-error">{{ form.imagen.errors }}</div>{% endif %}
      {% if curso.imagen %}
        <img src="{{ curso.imagen.url }}" alt="Imagen actual" class="preview-imagen">
      {% endif %}
    </div>

    <button type="submit" class="btn-guardar">Guardar cambios</button>
    <a href="{% url 'Principal' %}" class="btn-secundario">Cancelar</a>
  </form>
</div>
{% endblock %}
